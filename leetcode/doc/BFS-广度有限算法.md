# BFS - 广度优先算法  - （Breadth First Search）



## 1、前言

广度优先搜索（也称宽度优先搜索，缩写BFS，以下采用广度来描述）是连通图的一种遍历策略。因为它的思想是从一个顶点V0开始，辐射状地优先遍历其周围较广的区域，因此得名。

一般可以用它做什么呢？一个最直观经典的例子就是走迷宫，我们从起点开始，找出到终点的最短路程，很多最短路径算法就是基于广度优先的思想成立的。

BFS的理论证明这里不作重点，有需要的童鞋可以自行查阅相关书籍，本博客主要以几个例子说明一下BFS算法。


## 2、BFS的基本思路

![](http://minio.898311.xyz:8900/blogimg/16687395400445.png)

上图是连通图，一般把顶点用Vi表示，边用Eij表示。



2.1 算法的基本思路
常常我们有这样一个问题：从一个起点开始要到一个终点，我们要找寻一条最短的路径。以下图为例，如果我们要求V0到V6的一条最短路（假设走一个节点按一步来算），我们明显看出这条路径就是V0−>V2−>V6，而不是V0−>V3−>V5−>V6。先想想你自己刚刚是怎么找到这条路径的：首先看跟V0V0直接连接的节点V1、V2、V3，发现没有V6V6，进而再看刚刚V1、V2、V3的直接连接节点分别是：{V0、V4}、{V0、V1、V6}、{V0、V1、V5}（这里画删除线的意思是那些顶点在我们刚刚的搜索过程中已经找过了，我们不需要重新回头再看他们了）。这时候我们从V2V2的连通节点集中找到了V6V6，那说明我们找到了这条V0到V6的最短路径：V0−>V2−>V6，虽然你再进一步搜索V5的连接节点集合后会找到另一条路径V0−>V3−>V5−>V6，但显然他不是最短路径，我们将其扔掉。

我们采用示例图来说明这个过程，在搜索的过程中，初始所有节点是白色（代表了所有点都还没开始搜索），把起点V0标志成灰色（表示即将辐射V0），下一步搜索的时候，我们把所有的灰色节点访问一次，然后将其变成黑色（表示已经被辐射过了），进而再将他们所能到达的节点标志成灰色（因为那些节点是下一步搜索的目标点了），但是这里有个判断，就像刚刚的例子，当访问到V1节点的时候，它的下一个节点应该是V0和V4，但是V0已经在前面被染成黑色了，所以不会将它染灰色。这样持续下去，直到目标节点V6被染灰色，说明了下一步就到终点了，没必要再搜索（染色）其他节点了，此时可以结束搜索了，整个搜索就结束了。然后根据搜索过程，反过来把最短路径找出来，下图中把最终路径上的节点标志成绿色。

整个过程如下图所示：
![](http://minio.898311.xyz:8900/blogimg/16687397485687.png)

初始全部都是白色（未访问）

![](http://minio.898311.xyz:8900/blogimg/16687398097187.png)

即将搜索起点V0（灰色）

![](http://minio.898311.xyz:8900/blogimg/16687398584141.png)

已搜索V0，即将搜索V1、V2、V3

![](http://minio.898311.xyz:8900/blogimg/16687398807824.png)

终点V6被染灰色，终止

![](http://minio.898311.xyz:8900/blogimg/16687576006253.png)

找到最短路径



### 2.2 广度优先搜索流程图



![](http://minio.898311.xyz:8900/blogimg/16687576770922.png)







